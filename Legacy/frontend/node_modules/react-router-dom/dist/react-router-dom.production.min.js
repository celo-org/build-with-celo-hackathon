/**
 * React Router DOM v6.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import*as e from"react";import{UNSAFE_enhanceManualRouteObjects as t,Router as r,useHref as n,createPath as a,useResolvedPath as o,useMatch as i,UNSAFE_DataRouterStateContext as u,useNavigate as s,useLocation as l,UNSAFE_DataRouterContext as c,UNSAFE_RouteContext as f,useMatches as m,useNavigation as d}from"react-router";export{AbortedDeferredError,Await,MemoryRouter,Navigate,NavigationType,Outlet,Route,Router,RouterProvider,Routes,UNSAFE_DataRouterContext,UNSAFE_DataRouterStateContext,UNSAFE_DataStaticRouterContext,UNSAFE_LocationContext,UNSAFE_NavigationContext,UNSAFE_RouteContext,UNSAFE_enhanceManualRouteObjects,createMemoryRouter,createPath,createRoutesFromChildren,createRoutesFromElements,defer,generatePath,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,renderMatches,resolvePath,useActionData,useAsyncError,useAsyncValue,useHref,useInRouterContext,useLoaderData,useLocation,useMatch,useMatches,useNavigate,useNavigation,useNavigationType,useOutlet,useOutletContext,useParams,useResolvedPath,useRevalidator,useRouteError,useRouteLoaderData,useRoutes}from"react-router";import{createRouter as h,createBrowserHistory as p,createHashHistory as g,matchPath as y,invariant as w}from"@remix-run/router";const v="application/x-www-form-urlencoded";function b(e){return null!=e&&"string"==typeof e.tagName}function R(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}function E(e,t,r){let n,a,o,i;if(b(u=e)&&"form"===u.tagName.toLowerCase()){let u=r.submissionTrigger;n=r.method||e.getAttribute("method")||"get",a=r.action||e.getAttribute("action")||t,o=r.encType||e.getAttribute("enctype")||v,i=new FormData(e),u&&u.name&&i.append(u.name,u.value)}else if(function(e){return b(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return b(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let u=e.form;if(null==u)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');n=r.method||e.getAttribute("formmethod")||u.getAttribute("method")||"get",a=r.action||e.getAttribute("formaction")||u.getAttribute("action")||t,o=r.encType||e.getAttribute("formenctype")||u.getAttribute("enctype")||v,i=new FormData(u),e.name&&i.append(e.name,e.value)}else{if(b(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(n=r.method||"get",a=r.action||t,o=r.encType||v,e instanceof FormData)i=e;else if(i=new FormData,e instanceof URLSearchParams)for(let[t,r]of e)i.append(t,r);else if(null!=e)for(let t of Object.keys(e))i.append(t,e[t])}var u;let{protocol:s,host:l}=window.location;return{url:new URL(a,`${s}//${l}`),method:n,encType:o,formData:i}}function S(e,r){return h({basename:r?.basename,history:p({window:r?.window}),hydrationData:r?.hydrationData||window?.__staticRouterHydrationData,routes:t(e)}).initialize()}function C(e,r){return h({basename:r?.basename,history:g({window:r?.window}),hydrationData:r?.hydrationData||window?.__staticRouterHydrationData,routes:t(e)}).initialize()}function A({basename:t,children:n,window:a}){let o=e.useRef();null==o.current&&(o.current=p({window:a,v5Compat:!0}));let i=o.current,[u,s]=e.useState({action:i.action,location:i.location});return e.useLayoutEffect((()=>i.listen(s)),[i]),e.createElement(r,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i})}function x({basename:t,children:n,window:a}){let o=e.useRef();null==o.current&&(o.current=g({window:a,v5Compat:!0}));let i=o.current,[u,s]=e.useState({action:i.action,location:i.location});return e.useLayoutEffect((()=>i.listen(s)),[i]),e.createElement(r,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i})}function D({basename:t,children:n,history:a}){const[o,i]=e.useState({action:a.action,location:a.location});return e.useLayoutEffect((()=>a.listen(i)),[a]),e.createElement(r,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}const N=e.forwardRef((function({onClick:t,relative:r,reloadDocument:a,replace:o,state:i,target:u,to:s,preventScrollReset:l,...c},f){let m=n(s,{relative:r}),d=O(s,{replace:o,state:i,target:u,preventScrollReset:l,relative:r});return e.createElement("a",Object.assign({},c,{href:m,onClick:a?t:function(e){t&&t(e),e.defaultPrevented||d(e)},ref:f,target:u}))})),L=e.forwardRef((function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,children:c,...f},m){let d,h=o(l),p=i({path:h.pathname,end:a,caseSensitive:r}),g=e.useContext(u)?.navigation.location,w=o(g||""),v=null!=e.useMemo((()=>g?y({path:h.pathname,end:a,caseSensitive:r},w.pathname):null),[g,h.pathname,r,a,w.pathname]),b=null!=p,R=b?t:void 0;d="function"==typeof n?n({isActive:b,isPending:v}):[n,b?"active":null,v?"pending":null].filter(Boolean).join(" ");let E="function"==typeof s?s({isActive:b,isPending:v}):s;return e.createElement(N,Object.assign({},f,{"aria-current":R,className:d,ref:m,style:E,to:l}),"function"==typeof c?c({isActive:b,isPending:v}):c)})),P=e.forwardRef(((t,r)=>e.createElement(F,Object.assign({},t,{ref:r})))),F=e.forwardRef((({reloadDocument:t,replace:r,method:n="get",action:a,onSubmit:o,fetcherKey:i,routeId:u,relative:s,...l},c)=>{let f=U(i,u),m="get"===n.toLowerCase()?"get":"post",d=k(a,{relative:s});return e.createElement("form",Object.assign({ref:c,method:m,action:d,onSubmit:t?o:e=>{if(o&&o(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter;f(t||e.currentTarget,{method:n,replace:r,relative:s})}},l))}));function T({getKey:t,storageKey:r}){return function({getKey:t,storageKey:r}={}){let n=l(),a=m(),o=d(),i=e.useContext(c);i||w(!1);let{router:s}=i,f=e.useContext(u);(null==s||null==f)&&w(!1);let{restoreScrollPosition:h,preventScrollReset:p}=f;e.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),g=e.useCallback((()=>{if("idle"===o.state){let e=(t?t(n,a):null)||n.key;H[e]=window.scrollY}sessionStorage.setItem(r||"react-router-scroll-positions",JSON.stringify(H)),window.history.scrollRestoration="auto"}),[r,t,o.state,n,a]),e.useEffect((()=>(window.addEventListener("beforeunload",g),()=>{window.removeEventListener("beforeunload",g)})),[g]),e.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(r||"react-router-scroll-positions");e&&(H=JSON.parse(e))}catch(e){}}),[r]),e.useLayoutEffect((()=>{let e=s?.enableScrollRestoration(H,(()=>window.scrollY),t);return()=>e&&e()}),[s,t]),e.useLayoutEffect((()=>{if(!1!==h)if("number"!=typeof h){if(n.hash){let e=document.getElementById(n.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==p&&window.scrollTo(0,0)}else window.scrollTo(0,h)}),[n,h,p]);var g}({getKey:t,storageKey:r}),null}function O(t,{target:r,replace:n,state:i,preventScrollReset:u,relative:c}={}){let f=s(),m=l(),d=o(t,{relative:c});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let r=void 0!==n?n:a(m)===a(d);f(t,{replace:r,state:i,preventScrollReset:u,relative:c})}}),[m,f,d,n,i,r,t,u,c])}function _(t){let r=e.useRef(R(t)),n=l(),a=e.useMemo((()=>function(e,t){let r=R(e);for(let n of t.keys())r.has(n)||t.getAll(n).forEach((e=>{r.append(n,e)}));return r}(n.search,r.current)),[n.search]),o=s(),i=e.useCallback(((e,t)=>{const r=R("function"==typeof e?e(a):e);o("?"+r,t)}),[o,a]);return[a,i]}function K(){return U()}function U(t,r){let n=e.useContext(c);n||w(!1);let{router:a}=n,o=k();return e.useCallback(((e,n={})=>{if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:i,encType:u,formData:s,url:l}=E(e,o,n),c=l.pathname+l.search,f={replace:n.replace,formData:s,formMethod:i,formEncType:u};t?(null==r&&w(!1),a.fetch(t,r,c,f)):a.navigate(c,f)}),[o,a,t,r])}function k(t,{relative:r}={}){let n=e.useContext(f);n||w(!1);let[i]=n.matches.slice(-1),u=o(t??".",{relative:r}),s=l();if(null==t&&(u.search=s.search,u.hash=s.hash,i.route.index)){let e=new URLSearchParams(u.search);e.delete("index"),u.search=e.toString()?`?${e.toString()}`:""}return t&&"."!==t||!i.route.index||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a(u)}let j=0;function M(){let t=e.useContext(c);t||w(!1);let{router:r}=t,n=e.useContext(f);n||w(!1);let a=n.matches[n.matches.length-1]?.route.id;null==a&&w(!1);let[o]=e.useState((()=>String(++j))),[i]=e.useState((()=>(a||w(!1),function(t,r){return e.forwardRef(((n,a)=>e.createElement(F,Object.assign({},n,{ref:a,fetcherKey:t,routeId:r}))))}(o,a)))),[u]=e.useState((()=>e=>{r||w(!1),a||w(!1),r.fetch(o,a,e)})),s=U(o,a),l=r.getFetcher(o),m=e.useMemo((()=>({Form:i,submit:s,load:u,...l})),[l,i,s,u]);return e.useEffect((()=>()=>{r?r.deleteFetcher(o):console.warn("No fetcher available to clean up from useFetcher()")}),[r,o]),m}function I(){let t=e.useContext(u);return t||w(!1),[...t.fetchers.values()]}let H={};export{A as BrowserRouter,P as Form,x as HashRouter,N as Link,L as NavLink,T as ScrollRestoration,S as createBrowserRouter,C as createHashRouter,R as createSearchParams,D as unstable_HistoryRouter,M as useFetcher,I as useFetchers,k as useFormAction,O as useLinkClickHandler,_ as useSearchParams,K as useSubmit};
//# sourceMappingURL=react-router-dom.production.min.js.map
