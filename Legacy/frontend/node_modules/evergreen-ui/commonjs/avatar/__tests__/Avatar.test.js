"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _Avatar = _interopRequireDefault(require("../src/Avatar"));

describe('Avatar', function () {
  it('should not crash when rendering', function () {
    expect(function () {
      (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], null));
    }).not.toThrowError();
  });
  it('should render question mark when name is empty and no image src', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: ""
    }));
    expect(_react2.screen.getByText('?')).toBeVisible();
  });
  it('should render one char when name is one word and no image src', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: "Alan"
    }));
    expect(_react2.screen.getByText('A')).toBeVisible();
  });
  it('should render first and last initial when name is more than one word and no image src', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: "Alan Turing Batman"
    }));
    expect(_react2.screen.getByText('AT')).toBeVisible();
  });
  it('should render an image when pass in src', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      src: "https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg"
    }));
    expect(_react2.screen.getByRole('img').getAttribute('src')).toEqual('https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg');
  });
  it('should render the according size', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: "Alan Turing",
      size: 80
    }));
    expect(_react2.screen.getByTitle('Alan Turing')).toHaveStyle('height: 80px');
  });
  it('should render a square if the shape is square', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: "Alan Turing",
      shape: "square"
    }));
    expect(_react2.screen.getByTitle('Alan Turing')).toHaveStyle('border-top-right-radius: 4px');
  });
  it('should render the color when specified', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Avatar["default"], {
      name: "Alan Turing",
      color: "green"
    }));
    expect(_react2.screen.getByTitle('Alan Turing')).toHaveStyle('background-color: #DCF2EA');
  });
});